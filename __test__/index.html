<head>
	<style>
		body {
			margin: 0;
			padding: 0;
		}
		.controller {
			width: 100vw;
			height: 100vh;
			position: absolute;
			top: 0;
		}
		.one {
			background: blue
		}
		.two {
			background: red
		}

		@keyframes test {
			from {
				transform: translateX(0);
			}
			to {
				transform: translateX(-100vw);
			}
		}
	</style>
</head>
<body>

	<div class="controller one" protype="1">
		<div class="text"></div>
	</div>
	<div class="controller two" protype="2">
		<div class="text"></div>
	</div>
	<script src="/eyejs/" charset="utf-8"></script>
	<script src="/static/protype.js"></script>
	<script>
		const P = new ProType()

		class ControllerOne extends P.ViewController {
			willShow() {
				this.view.addEventListener("click", e => {
					P.performTransition("2", {
						animation: "test"
					})
				})

				this.view.querySelector(".text").innerHTML = new Date()
			}
			willDisappear() {
				this.view.removeEventListener("click", e => {})
			}
		}

		class ControllerTwo extends P.ViewController {
			willShow() {
				this.view.addEventListener("click", e => {
					P.performTransition("1", {
						animation: "test"
					})
				})

				this.view.querySelector(".text").innerHTML = "Hello World!"
			}
			willDisappear() {
				this.view.removeEventListener("click", e => {})
			}
		}
		P.autoMount(ControllerOne, ControllerTwo)
		P.set("1")
	</script>
</body>
