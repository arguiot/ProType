class ProType{get Component(){return class{constructor(a){this.component=a,this.state={},this.render()}render(){this.component.innerHTML=""}}}mountExternalGroup(a,b){const c=new b(a,null);return c}get Group(){return class{changeHandler(){}constructor(a,b){this.group=a,this.viewName=b,this.state={},this.init()}init(){}mountComponent(a,b){const c=new b(a);return c}setState(a){JSON.stringify(a)!=JSON.stringify(this.state)&&(this.state=a,this.changeHandler(this.state))}}}Router(){const a=[...arguments];let b,c="";switch(a.length){case 1:b=a[0];break;default:c=a[0],b=a[1];}const d=new RegExp(/^:\w*$/),e={};c.split("/").forEach((a,b)=>{a.match(d)&&(e[b]=a.split(":")[1])});const f=new RegExp(/\/:\w*(\/|$)/gi),g=new RegExp(c.replace("/\\w*/"));document.addEventListener("DOMContentLoaded",()=>{let a={};const d=window.location.href;a.url=d;const f=window.location.origin;a.origin=f;const h=window.location.pathname;a.path=h;const i=window.location.hash;a.hash=i;const j=window.location.search.substring(1).split("&");let k={};for(let a=0;a<j.length;a++){const b=j[a].split("=");k[decodeURIComponent(b[0])]=decodeURIComponent(b[1])}if(a.search=k,a.pathValue=h.split("/"),h.match(g)&&""!=c){const c=h.split("/");let d={};Object.keys(e).forEach((a)=>{d[e[a]]=c[a]}),b(a,d)}})}get ViewController(){return class{constructor(a,b,c){this.view=a,this.views=c,this.viewsName=b;const d=this.views.indexOf(this.view);this.viewName=this.viewsName[d],this.pipeline={},this.preload()}mountGroup(a,b){const c=new b(a,this.viewName);return c}mountGroups(a,b){let c=[];for(let d=0;d<a.length;d++)c.push(new b(a[d],this.viewName));return c}onPipelineChange(){}preload(){}prepareForSegue(){}willDisappear(a="Main"){}willShow(a="Main"){}}}autoMount(){const a=[...arguments],b=document.querySelectorAll("[protype]");if(this.views.push(...b),b.length!=a.length)throw"Controllers and Elements don't match";for(let a=0;a<b.length;a++)this.viewsName.push(b[a].getAttribute("protype"));for(let c=0;c<a.length;c++)this.controllers.push(new a[c](b[c],this.viewsName,this.views))}constructor(){this.version="v1.1.0",this.views=[],this.viewsName=[],this.controllers=[],this.currentView="",this.last="",this.root="",this.workspace={}}mount(){const a=[...arguments];for(let b=0;b<a.length;b++)this.views.push(a[b][1]),this.viewsName.push(a[b][0]);for(let b=0;b<a.length;b++)this.controllers.push(new a[b][2](this.views[b],this.viewsName,this.views))}performTransition(a,b){if(a==this.currentView)return;const c=Object.assign({animation:"none",duration:"1s",Group:!1},b),d=this.currentView,e=this.viewsName.indexOf(d),f=this.views[e],g=this.controllers[e],h=this.viewsName.indexOf(a),i=this.views[h].cloneNode(!0);this.views[h].parentNode.replaceChild(i,this.views[h]),this.views[h]=i;const j=this.views[h];let k=this.controllers[h];if(k.view=j,k.views=this.views,this.last=this.currentView,this.currentView=a,j.setAttribute("style",""),j.style["z-index"]="-10",g.prepareForSegue(k),k.willShow(d),!1!==c.Group){const a=()=>{j.style.display="block",j.style["z-index"]="0",f.style.display="none",g.willDisappear(d)};"none"===c.animation?a():(c.Group.style.animation=`${c.animation} ${c.duration} forwards`,c.Group.addEventListener("animationend",()=>a()))}else{j.style.display="block";const a=()=>{j.style["z-index"]="0",f.style.display="none",g.willDisappear(d),j.style.display="block"};"none"===c.animation?a():(f.style.animation=`${c.animation} ${c.duration} forwards`,f.addEventListener("animationend",()=>a()))}}get pipeline(){const a=this.currentView,b=this.viewsName.indexOf(a),c=this.views[b];return c.pipeline}setPipeline(a){const b=this.currentView,c=this.viewsName.indexOf(b),d=this.views[c].pipeline;JSON.stringify(d)!=JSON.stringify(a)&&(this.views[c].pipeline=a,this.views[c].onPipelineChange(a))}pop(){this.performTransition(this.last)}popToRoot(){this.performTransition(this.root)}set(a){this.root=a,this.currentView=a,document.addEventListener("DOMContentLoaded",()=>{for(var b=0;b<this.views.length;b++)this.viewsName[b]==a?(this.views[b].style.display="block",this.controllers[b].willShow()):this.views[b].style.display="none"})}}"function"==typeof define&&define.amd?define(()=>new ProType):"undefined"==typeof exports?"undefined"!=typeof global&&(global.ProType=new ProType):("undefined"!=typeof module&&module.exports&&(exports=module.exports=new ProType),exports.ProType=new ProType);